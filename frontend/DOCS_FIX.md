# üìö –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ 2–ì–ò–°

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://docs.2gis.com/ru/mapgl/start/react#nav-lvl1--–ì–æ—Ç–æ–≤—ã–π_–ø–∞–∫–µ—Ç_npm):

### üîß **1. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
- ‚úÖ –°–æ–∑–¥–∞–Ω `MapWrapper` —Å `React.memo` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞ `MapGL` –∏ `MapWrapper` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `id="map-container"` –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### üîß **2. Context API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞—Ä—Ç–µ**
- ‚úÖ –°–æ–∑–¥–∞–Ω `MapContext` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—É
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `MapProvider` –¥–ª—è –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ö—É–∫ `useMap` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞—Ä—Ç–µ –∏–∑ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### üîß **3. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `load().then((mapglAPI) => { new mapglAPI.Map(...) })`
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–∞—Ä—Ç—ã –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—É –≤ Context

### üîß **4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ–π**
- ‚úÖ –°–æ–∑–¥–∞–Ω `MapControls` —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Context –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞—Ä—Ç–µ
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏: —Ü–µ–Ω—Ç—Ä, –∑—É–º, —Å–±—Ä–æ—Å

## üèóÔ∏è **–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

```
MapProvider
‚îú‚îÄ‚îÄ MapGL (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã)
‚îÇ   ‚îî‚îÄ‚îÄ MapWrapper (React.memo –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
‚îî‚îÄ‚îÄ MapControls (–∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
```

## üìã **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:**

- `src/components/MapGL.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã
- `src/components/MapWrapper.tsx` - –æ–±–µ—Ä—Ç–∫–∞ —Å React.memo
- `src/components/MapControls.tsx` - –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `src/context/MapContext.tsx` - Context –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞—Ä—Ç–µ

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**

1. **–ò–∑–±–µ–∂–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞** - MapWrapper —Å React.memo
2. **–î–æ—Å—Ç—É–ø –∫ –∫–∞—Ä—Ç–µ –∏–∑ –ª—é–±–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** - —á–µ—Ä–µ–∑ Context API
3. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤** - destroy() –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
4. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** - —Ç–æ—á–Ω–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞–º 2–ì–ò–°

## üöÄ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```tsx
<MapProvider>
  <MapGL center={[37.6173, 55.7558]} zoom={11} />
  <MapControls />
</MapProvider>
```

## üìñ **–°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
- [–†–∞–±–æ—Ç–∞ —Å React](https://docs.2gis.com/ru/mapgl/start/react)
- [–ü–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥](https://docs.2gis.com/ru/mapgl/start/react#nav-lvl1--–ü–æ–≤—Ç–æ—Ä–Ω—ã–π_—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥)
- [–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞—Ä—Ç–µ](https://docs.2gis.com/ru/mapgl/start/react#nav-lvl1--–ü–æ–ª—É—á–µ–Ω–∏–µ_–¥–æ—Å—Ç—É–ø–∞_–∫_–∫–∞—Ä—Ç–µ)
